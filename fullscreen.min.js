/**
 * @license Fullscreen.js v0.1.1
 * (c) 2014 Caitlin Potter & Contributors
 * License: MIT
 */
!function(e){"use strict";function n(e,n){if("number"!=typeof e&&arguments.length||(n=e,e=a),void 0!==l)return e[l](n);for(var t=0;m>t;++t){var r=m[t];if(r in e)return l=r,e[r](n)}}function t(){if(void 0!==s)return d[s]();for(var e=0;h>e;++e){var n=h[e];if(n in d)return s=n,d[n]()}}function r(){if(void 0!==c)return d[c];for(var e=0;v>e;++e){var n=v[e];if(n in node)return c=n,d[n]}}function i(){if(void 0!==f)return d[f];for(var e=0;y>e;++e){var n=y[e];if(n in node)return f=n,d[n]}return!1}function o(){this._isFullscreen=!1,this._keyListener=null}function u(e){(i()||!F)&&(70!==e.charCode&&102!==e.charCode&&"f"!==e.char&&"F"!==e.char||!e.ctrlKey&&!e.metaKey||this.toggle())}if(e&&e.document){var l,s,c,f,d=e.document,a=d.documentElement,m=["requestFullscreen","mozRequestFullscreen","webkitRequestFullscreen","oRequestFullscreen","msRequestFullscreen"],h=["exitFullscreen","mozCancelFullscreen","webkitExitFullscreen","oExitFullscreen","msExitFullscreen"],v=["fullscreenElement","mozFullscreenElement","webkitFullscreenElement","oFullscreenElement","msFullscreenElement"],y=["fullscreenEnabled","mozFullscreenEnabled","webkitFullscreenEnabled","oFullscreenEnabled","msFullscreenEnabled"],F=!1;o.prototype.listen=function(){this._keyListener||(this._keyListener=p(this,u),E(d,"keypress",this._keyListener))},o.prototype.deafen=function(){this._keyListener&&b(d,"keypress",this._keyListener)},o.prototype.enter=function(e){if(e||(e=a),r()){if(r()===e)return;this.exit()}n(e),F=!0},o.prototype.exit=function(){r()&&t()},o.prototype.toggle=function(){r()?this.exit():this.enter()};var p=Function.prototype.toMethod?function(e,n){return n.toMethod(e)}:function(e,n){return n.bind(e)},E=d.addEventListener?function(e,n,t){e.addEventListener(n,t)}:function(e,n,t){e.attachEvent("on"+n,t)},b=d.addEventListener?function(e,n,t){e.removeEventListener(n,t)}:function(e,n,t){e.detachEvent("on"+n,t)};"function"==typeof define&&"object"==typeof define.amd&&define.amd?define(function(){return new o}):"object"==typeof module&&"function"==typeof require?module.exports=new o:e.$fullscreen=new o}}(this);